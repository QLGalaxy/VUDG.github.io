<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>VUDG: <b>V</b>ideo <b>U</b>nderstanding <b>D</b>ataset <b>G</b>eneration</title>
  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <style>
    .qa-container {
      max-height: 400px;
      overflow-y: auto;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      background-color: #f9f9f9;
    }
    .qa-item {
      margin-bottom: 15px;
    }
    .qa-item p {
      margin: 5px 0;
    }
    .qa-item p.question {
      font-weight: bold;
      color: #3273dc;
    }
    .qa-item p.answer {
      color: #363636;
    }
  </style>
</head>
<body>

<!-- 主标题和作者信息 -->
<section class="section">
  <div class="container">
    <h1 class="title is-1 has-text-centered">VUDG: <b>V</b>ideo <b>U</b>nderstanding <b>D</b>ataset <b>G</b>eneration</h1>
    <div class="content has-text-centered">
      <p class="is-size-5 publication-authors">
        <span class="author-block">
          AAA<sup>1</sup>,
        </span>
        <span class="author-block">
          BBB<sup>2</sup>,
        </span>
        <span class="author-block">
          CCC<sup>1</sup>
        </span>
      </p>
      <p class="is-size-5 publication-authors">
        <span class="author-block"><sup>1</sup>XXX,</span>
        <span class="author-block"><sup>2</sup>YYY</span>
      </p>
    </div>

    <!-- Arxiv 链接 -->
    <div class="column has-text-centered">
      <div class="publication-links">
        <span class="link-block">
          <a href="https://arxiv.org/pdf/XXXX.XXXXX"
             class="external-link button is-normal is-rounded is-dark">
            <span class="icon">
              <i class="fas fa-file-pdf"></i>
            </span>
            <span>Paper</span>
          </a>
        </span>
        <span class="link-block">
          <a href="https://arxiv.org/abs/XXXX.XXXXX"
             class="external-link button is-normal is-rounded is-dark">
            <span class="icon">
              <i class="ai ai-arxiv"></i>
            </span>
            <span>arXiv</span>
          </a>
        </span>
      </div>
    </div>
  </div>
</section>

<!-- 标题 1: 数据集简介 -->
<section class="section">
  <div class="container">
    <h2 class="title is-2">Dataset Introduction</h2>
    <div class="content">
      <p>
        We present the <b>VUDG</b> dataset, a large-scale video understanding dataset designed for training and evaluating state-of-the-art video analysis models. 
        The dataset consists of <b>10,000+</b> high-quality video clips annotated with rich metadata, including object bounding boxes, action labels, and temporal segmentation.
      </p>
    </div>
  </div>
</section>

<!-- 标题 2: 数据集示例 -->
<section class="section">
  <div class="container">
    <h2 class="title is-2">Dataset Examples</h2>
    <div class="content">
      <p>
        Select a category from the dropdown menu and click "Preview" to view the corresponding videos and QA pairs.
      </p>

      <!-- 选项栏和预览按钮 -->
      <div class="field has-addons">
        <div class="control">
          <div class="select">
            <select id="category-select">
              <option value="cartoon">Cartoon</option>
              <option value="egocentric_video">Egocentric Video</option>
              <option value="foggy">Foggy</option>
              <option value="game">Game</option>
              <option value="movie_tv_show">Movie/TV Show</option>
              <option value="night">Night</option>
              <option value="rainy">Rainy</option>
              <option value="shakey">Shakey</option>
              <option value="snowy">Snowy</option>
              <option value="surveillance">Surveillance</option>
              <option value="virtual">Virtual</option>
            </select>
          </div>
        </div>
        <div class="control">
          <button id="preview-button" class="button is-primary">Preview</button>
        </div>
      </div>

      <!-- 左右布局 -->
      <div class="columns">
        <!-- 左边：视频展示区域 -->
        <div class="column is-half">
          <div class="columns is-multiline" id="video-grid" style="margin-top: 20px;">
            <div class="column is-full">
              <video id="video-1" controls width="100%">
                Your browser does not support the video tag.
              </video>
            </div>
            <div class="column is-full">
              <video id="video-2" controls width="100%">
                Your browser does not support the video tag.
              </video>
            </div>
            <div class="column is-full">
              <video id="video-3" controls width="100%">
                Your browser does not support the video tag.
              </video>
            </div>
            <div class="column is-full">
              <video id="video-4" controls width="100%">
                Your browser does not support the video tag.
              </video>
            </div>
          </div>
        </div>

        <!-- 右边：QA 展示区域 -->
        <div class="column is-half">
          <div class="qa-container" id="qa-container">
            <!-- QA 内容将动态加载到这里 -->
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- JavaScript 实现交互 -->
<script>
  document.getElementById('preview-button').addEventListener('click', async function () {
    const selectedCategory = document.getElementById('category-select').value;
    console.log('Selected Category:', selectedCategory); // 调试信息

    // 加载视频
    for (let i = 1; i <= 4; i++) {
      const videoPath = `./static/videos/${selectedCategory}_${i}.mp4?${Math.random()}`; // 避免缓存
      console.log(`Video ${i} Path:`, videoPath); // 调试信息

      const videoElement = document.getElementById(`video-${i}`);
      videoElement.innerHTML = `<source src="${videoPath}" type="video/mp4">`;
      videoElement.load();
    }

    // 加载 QA 对
    const qaContainer = document.getElementById('qa-container');
    qaContainer.innerHTML = ''; // 清空之前的内容

    for (let i = 1; i <= 4; i++) {
      const qaPath = `./static/QAs/${selectedCategory}_${i}.txt`;
      console.log(`QA ${i} Path:`, qaPath); // 调试信息

      try {
        const response = await fetch(qaPath);
        if (!response.ok) throw new Error('File not found');
        const text = await response.text();
        const qaPairs = text.split('\n').filter(line => line.trim() !== ''); // 按行分割并过滤空行

        // 创建 QA 对容器
        const qaItem = document.createElement('div');
        qaItem.className = 'qa-item';
        qaItem.innerHTML = `<h3 class="title is-5">Video ${i} QA</h3>`;

        // 解析并添加 QA 对
        for (let j = 0; j < qaPairs.length; j += 2) {
          const question = qaPairs[j].replace('Q:', '').trim();
          const answer = qaPairs[j + 1].replace('A:', '').trim();
          qaItem.innerHTML += `
            <p class="question">Q: ${question}</p>
            <p class="answer">A: ${answer}</p>
          `;
        }

        qaContainer.appendChild(qaItem);
      } catch (error) {
        console.error(`Failed to load QA for Video ${i}:`, error);
        qaContainer.innerHTML += `<p class="has-text-danger">Failed to load QA for Video ${i}.</p>`;
      }
    }
  });
</script>

</body>
</html>
